# Sample environment configuration for Valhalla

# Telegram bot token
BOT_TOKEN=

# Comma-separated list of Telegram user IDs with admin access
ADMIN_IDS=

# Database backend selection (mysql or mongodb)
DATABASE_BACKEND=mysql

# MySQL database configuration
MYSQL_ROOT_PASSWORD=
MYSQL_HOST=127.0.0.1
MYSQL_PORT=3306
MYSQL_USER=
MYSQL_PASSWORD=
MYSQL_DATABASE=valhalla
# Size of the MySQL connection pool. Defaults to 5 Ã— CPU cores.
# Increase for high traffic; monitor logs for "connection pool exhausted" alerts.
MYSQL_POOL_SIZE=

# MongoDB configuration
# Either provide an explicit connection URI via MONGO_URI or set the host/port and
# optional credentials below to allow the application to build one automatically.
# When running the bundled MongoDB container, the stack defaults to the
# `valhalla`/`changeme` credentials below. Override them (and update the compose
# file) if you prefer different values.
MONGO_URI=
MONGO_USER=valhalla
MONGO_PASS=changeme
MONGO_DATABASE=valhalla
MONGODB_HOST=mongodb
MONGODB_PORT=27017
# Optional Mongo Express dashboard (enabled with `docker compose --profile mongo-express up`)
MONGO_EXPRESS_PORT=8081
MONGO_EXPRESS_USER=admin
MONGO_EXPRESS_PASS=

# Base URL for generating public links
PUBLIC_BASE_URL=

# Flask server settings
FLASK_HOST=0.0.0.0
FLASK_PORT=5000
# Number of Gunicorn worker processes (defaults to 2x CPU cores + 1)
WORKERS=

# Service to run (app or bot)
SERVICE=app

# Interval in seconds for usage synchronization
USAGE_SYNC_INTERVAL=60

# Maximum number of threads to use when fetching links
FETCH_MAX_WORKERS=5
