{"openapi":"3.1.0","info":{"title":"RebeccaAPI","description":"Unified GUI Censorship Resistant Solution Powered by Xray","version":"0.0.33"},"paths":{"/api/ads":{"get":{"tags":["Ads"],"summary":"Read Ads","description":"Return the cached advertisement payload for any authenticated admin.","operationId":"read_ads","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdsResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/token":{"post":{"tags":["Admin"],"summary":"Admin Token","description":"Authenticate an admin and issue a token.","operationId":"admin_token","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_admin_token_api_admin_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin":{"get":{"tags":["Admin"],"summary":"Get Current Admin","description":"Retrieve the current authenticated admin.","operationId":"get_current_admin","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Admin"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Admin"],"summary":"Create Admin","description":"Create a new admin if the current admin has sudo privileges.","operationId":"create_admin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Admin"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Conflict"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/{username}":{"put":{"tags":["Admin"],"summary":"Modify Admin","description":"Modify an existing admin's details.","operationId":"modify_admin","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminModify"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Admin"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Admin"],"summary":"Remove Admin","description":"Remove an admin from the database.","operationId":"remove_admin","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admins":{"get":{"tags":["Admin"],"summary":"Get Admins","description":"Fetch a list of admins with optional filters for pagination and username.","operationId":"get_admins","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit"}},{"name":"username","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"}},{"name":"sort","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sort"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminsListResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/permissions/standard/bulk":{"post":{"tags":["Admin"],"summary":"Bulk Update Standard Admin Permissions","description":"Bulk update user permissions for all standard admins.","operationId":"bulk_update_standard_admin_permissions","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardAdminsBulkPermissionsPayload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StandardAdminsBulkPermissionsResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/{username}/disable":{"post":{"tags":["Admin"],"summary":"Disable Admin Account","description":"Disable an admin account and all of its active users.","operationId":"disable_admin_account","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminDisablePayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Admin"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/{username}/enable":{"post":{"tags":["Admin"],"summary":"Enable Admin Account","description":"Re-activate a previously disabled admin and restore their users.","operationId":"enable_admin_account","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Admin"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/{username}/users/disable":{"post":{"tags":["Admin"],"summary":"Disable All Active Users","description":"Disable all active users under a specific admin","operationId":"disable_all_active_users","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/{username}/users/activate":{"post":{"tags":["Admin"],"summary":"Activate All Disabled Users","description":"Activate all disabled users under a specific admin","operationId":"activate_all_disabled_users","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/usage/reset/{username}":{"post":{"tags":["Admin"],"summary":"Reset Admin Usage","description":"Resets usage of admin.","operationId":"reset_admin_usage","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Admin"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/usage/{username}":{"get":{"tags":["Admin"],"summary":"Get Admin Usage","description":"Retrieve the usage of given admin.","operationId":"get_admin_usage","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Get Admin Usage Api Admin Usage  Username  Get"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/{username}/usage/daily":{"get":{"tags":["Admin"],"summary":"Get Admin Usage Daily","description":"Get admin usage per day (aggregated over all nodes and users).","operationId":"get_admin_usage_daily","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/{username}/usage/chart":{"get":{"tags":["Admin"],"summary":"Get Admin Usage Chart","description":"Get admin usage timeseries for a specific node (or all nodes if node_id is not provided).\nReturns usage data grouped by date (daily by default, hourly if requested).","operationId":"get_admin_usage_chart","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}},{"name":"node_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Node Id"}},{"name":"granularity","in":"query","required":false,"schema":{"type":"string","default":"day","title":"Granularity"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/{username}/usage/nodes":{"get":{"tags":["Admin"],"summary":"Get Admin Usage By Nodes","description":"Retrieve usage statistics for a specific admin across all nodes within a date range.\nReturns uplink and downlink traffic grouped by node.","operationId":"get_admin_usage_by_nodes","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/access/insights":{"get":{"tags":["Core"],"summary":"Get Access Insights","description":"Return recent access log entries enriched with geosite/geoip labels.\nLEGACY: Use /core/access/insights/multi-node for better performance and node support.","operationId":"get_access_insights","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":200,"title":"Limit"}},{"name":"lookback","in":"query","required":false,"schema":{"type":"integer","default":2000,"title":"Lookback"}},{"name":"search","in":"query","required":false,"schema":{"type":"string","default":"","title":"Search"}},{"name":"window_seconds","in":"query","required":false,"schema":{"type":"integer","default":120,"title":"Window Seconds"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/access/insights/multi-node":{"get":{"tags":["Core"],"summary":"Get Multi Node Access Insights","description":"Return access insights from all nodes (master + connected nodes).\nOptimized for lower RAM/CPU usage.\n\nArgs:\n    limit: Max number of clients to return\n    lookback: Number of log lines to read per node\n    search: Search filter (applied to destinations)\n    window_seconds: Time window to analyze (max 600)\n    node_ids: Comma-separated node IDs (empty = all nodes)","operationId":"get_multi_node_access_insights","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":200,"title":"Limit"}},{"name":"lookback","in":"query","required":false,"schema":{"type":"integer","default":1000,"title":"Lookback"}},{"name":"search","in":"query","required":false,"schema":{"type":"string","default":"","title":"Search"}},{"name":"window_seconds","in":"query","required":false,"schema":{"type":"integer","default":120,"title":"Window Seconds"}},{"name":"node_ids","in":"query","required":false,"schema":{"type":"string","default":"","title":"Node Ids"}},{"name":"mode","in":"query","required":false,"schema":{"type":"string","default":"full","title":"Mode"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/access/logs/raw":{"get":{"tags":["Core"],"summary":"Get Raw Access Logs","description":"Stream raw access log lines for frontend processing.\nThis reduces backend load by offloading parsing/analysis to the client.\n\nReturns NDJSON (newline-delimited JSON) stream.\n\nArgs:\n    max_lines: Maximum lines to return (max 1000)\n    node_id: Specific node ID (null = all nodes)\n    search: Filter lines containing this text","operationId":"get_raw_access_logs","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"max_lines","in":"query","required":false,"schema":{"type":"integer","default":500,"title":"Max Lines"}},{"name":"node_id","in":"query","required":false,"schema":{"type":"integer","title":"Node Id"}},{"name":"search","in":"query","required":false,"schema":{"type":"string","default":"","title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core":{"get":{"tags":["Core"],"summary":"Get Core Stats","description":"Retrieve core statistics such as version and uptime.","operationId":"get_core_stats","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CoreStats"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/core/ips":{"get":{"tags":["Core"],"summary":"Get Server Ips","description":"Retrieve server's public IPv4 and IPv6 addresses.","operationId":"get_server_ips","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerIPs"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/core/restart":{"post":{"tags":["Core"],"summary":"Restart Core","description":"Restart the core and all connected nodes.","operationId":"restart_core","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/core/config":{"get":{"tags":["Core"],"summary":"Get Core Config","description":"Get the current core configuration.","operationId":"get_core_config","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Core Config Api Core Config Get"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Core"],"summary":"Modify Core Config","description":"Modify the core configuration and restart the core.","operationId":"modify_core_config","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Modify Core Config Api Core Config Put"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/core/xray/releases":{"get":{"tags":["Core"],"summary":"List Xray Releases","description":"List latest Xray-core tags","operationId":"list_xray_releases","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/xray/update":{"post":{"tags":["Core"],"summary":"Update Core Version","description":"Update Xray core binary via maintenance service.","operationId":"update_core_version","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","examples":{"default":{"version":"v1.8.11","persist_env":true}},"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/geo/templates":{"get":{"tags":["Core"],"summary":"List Geo Templates","description":"Fetch and list geo templates.","operationId":"list_geo_templates","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"index_url","in":"query","required":false,"schema":{"type":"string","default":"","title":"Index Url"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/geo/apply":{"post":{"tags":["Core"],"summary":"Apply Geo Assets","description":"Download and apply geo assets.","operationId":"apply_geo_assets","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","examples":{"default":{"mode":"default","files":[{"name":"geosite.dat","url":"https://.../geosite.dat"},{"name":"geoip.dat","url":"https://.../geoip.dat"}],"persist_env":true,"apply_to_nodes":true,"skip_node_ids":[]}},"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/geo/update":{"post":{"tags":["Core"],"summary":"Update Geo Assets","description":"Backward-compatible alias used by the dashboard to update geo files on the master (and optionally nodes).\nAccepts camelCase keys from the frontend and forwards to the main handler.","operationId":"update_geo_assets","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","examples":{"default":{"mode":"template","templateIndexUrl":"https://raw.githubusercontent.com/ppouria/geo-templates/main/index.json","templateName":"standard","files":[],"persistEnv":true,"applyToNodes":false,"skipNodeIds":[]}},"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/core/warp":{"get":{"tags":["Core"],"summary":"Get Warp Account","description":"Return the stored Cloudflare WARP account (if any).","operationId":"get_warp_account","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarpAccountResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["Core"],"summary":"Delete Warp Account","description":"Remove the locally stored WARP credentials.","operationId":"delete_warp_account","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarpAccountResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/core/warp/register":{"post":{"tags":["Core"],"summary":"Register Warp Account","description":"Register a new WARP device via Cloudflare and persist credentials.","operationId":"register_warp_account","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarpRegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarpRegisterResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/core/warp/license":{"post":{"tags":["Core"],"summary":"Update Warp License","description":"Update the stored license key on Cloudflare WARP.","operationId":"update_warp_license","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarpLicenseUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarpAccountResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/core/warp/config":{"get":{"tags":["Core"],"summary":"Get Warp Config","description":"Fetch the latest device+account info from Cloudflare.","operationId":"get_warp_config","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WarpConfigResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/panel/xray/getOutboundsTraffic":{"get":{"tags":["Core"],"summary":"Get Outbounds Traffic","description":"Get outbound traffic statistics from database.","operationId":"get_outbounds_traffic","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/panel/xray/resetOutboundsTraffic":{"post":{"tags":["Core"],"summary":"Reset Outbounds Traffic","description":"Reset outbound traffic statistics.","operationId":"reset_outbounds_traffic","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/node/master":{"get":{"tags":["Node"],"summary":"Get Master Node State","description":"Retrieve the current usage and limits for the master node.","operationId":"get_master_node_state","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterNodeResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Node"],"summary":"Update Master Node State","description":"Update master node settings such as data limit.","operationId":"update_master_node_state","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterNodeUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterNodeResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/node/master/usage/reset":{"post":{"tags":["Node"],"summary":"Reset Master Node Usage","description":"Reset usage counters for the master node.","operationId":"reset_master_node_usage","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MasterNodeResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/node/settings":{"get":{"tags":["Node"],"summary":"Get Node Settings","description":"Retrieve the current node settings, including the shared TLS certificate (legacy).","operationId":"get_node_settings","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeSettings"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/node/certificate/new":{"post":{"tags":["Node"],"summary":"Issue Node Certificate","description":"Generate a brand new certificate/key pair for a node creation flow.","operationId":"issue_node_certificate","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Issue Node Certificate Api Node Certificate New Post"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/node":{"post":{"tags":["Node"],"summary":"Add Node","description":"Add a new node to the database and optionally add it as a host.","operationId":"add_node","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Conflict"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/node/{node_id}":{"get":{"tags":["Node"],"summary":"Get Node","description":"Retrieve details of a specific node by its ID.","operationId":"get_node","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Node"],"summary":"Modify Node","description":"Update a node's details. Only accessible to sudo admins.","operationId":"modify_node","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeModify"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Node"],"summary":"Remove Node","description":"Delete a node and schedule xray cleanup in the background.","operationId":"remove_node","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/node/{node_id}/certificate/regenerate":{"post":{"tags":["Node"],"summary":"Regenerate Node Certificate","description":"Regenerate a unique certificate for an existing node and return it.","operationId":"regenerate_node_certificate","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/nodes":{"get":{"tags":["Node"],"summary":"Get Nodes","description":"Retrieve a list of all nodes. Accessible only to sudo admins.","operationId":"get_nodes","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/NodeResponse"},"type":"array","title":"Response Get Nodes Api Nodes Get"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/node/{node_id}/usage/reset":{"post":{"tags":["Node"],"summary":"Reset Node Usage","description":"Reset the tracked data usage of a node.","operationId":"reset_node_usage","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodeResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/node/{node_id}/reconnect":{"post":{"tags":["Node"],"summary":"Reconnect Node","description":"Force a reconnection for the specified node (disconnect + reconnect).","operationId":"reconnect_node","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/nodes/usage":{"get":{"tags":["Node"],"summary":"Get Usage","description":"Retrieve usage statistics for nodes within a specified date range.","operationId":"get_usage","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NodesUsageResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/node/{node_id}/usage/daily":{"get":{"tags":["Node"],"summary":"Get Node Usage Daily","description":"Get usage for a specific node, regardless of admin.\nSupports daily (default) or hourly granularity.","operationId":"get_node_usage_daily","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}},{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}},{"name":"granularity","in":"query","required":false,"schema":{"type":"string","default":"day","title":"Granularity"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/node/{node_id}/xray/update":{"post":{"tags":["Node"],"summary":"Update Node Core","description":"Ask a node to update/switch its Xray-core to a specific version, then restart node core.","operationId":"update_node_core","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","examples":{"default":{"version":"v1.8.11"}},"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/node/{node_id}/geo/update":{"post":{"tags":["Node"],"summary":"Update Node Geo","description":"Download and install geo assets on a specific node (custom mode).\nSupports direct files list or template selection.","operationId":"update_node_geo","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","examples":{"default":{"files":[{"name":"geosite.dat","url":"https://.../geosite.dat"},{"name":"geoip.dat","url":"https://.../geoip.dat"}],"template_index_url":"https://.../index.json","template_name":"standard"}},"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/node/{node_id}/service/restart":{"post":{"tags":["Node"],"summary":"Restart Node Service","description":"Trigger the Rebecca-node maintenance service to restart containers on a node.","operationId":"restart_node_service","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/node/{node_id}/service/update":{"post":{"tags":["Node"],"summary":"Update Node Service","description":"Trigger the Rebecca-node maintenance service to update node containers.","operationId":"update_node_service","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"node_id","in":"path","required":true,"schema":{"type":"integer","title":"Node Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sub/{identifier}/":{"get":{"tags":["Subscription"],"summary":"User Subscription","description":"Provides a subscription link based on the identifier (credential key or token).","operationId":"user_subscription","parameters":[{"name":"identifier","in":"path","required":true,"schema":{"type":"string","title":"Identifier"}},{"name":"user-agent","in":"header","required":false,"schema":{"type":"string","default":"","title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sub/{identifier}/info":{"get":{"tags":["Subscription"],"summary":"User Subscription Info","description":"Retrieves detailed information about the user's subscription.","operationId":"user_subscription_info","parameters":[{"name":"identifier","in":"path","required":true,"schema":{"type":"string","title":"Identifier"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionUserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sub/{identifier}/usage":{"get":{"tags":["Subscription"],"summary":"User Get Usage","description":"Fetches the usage statistics for the user within a specified date range.","operationId":"user_get_usage","parameters":[{"name":"identifier","in":"path","required":true,"schema":{"type":"string","title":"Identifier"}},{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sub/{username}/{credential_key}/":{"get":{"tags":["Subscription"],"summary":"User Subscription By Key","description":"Subscription endpoint that validates credential keys instead of tokens.","operationId":"user_subscription_by_key","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"credential_key","in":"path","required":true,"schema":{"type":"string","pattern":"^[0-9a-fA-F-]{32,36}$","title":"Credential Key"}},{"name":"user-agent","in":"header","required":false,"schema":{"type":"string","default":"","title":"User-Agent"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sub/{username}/{credential_key}/info":{"get":{"tags":["Subscription"],"summary":"User Subscription Info By Key","description":"Key-based variant of the subscription info endpoint.","operationId":"user_subscription_info_by_key","parameters":[{"name":"credential_key","in":"path","required":true,"schema":{"type":"string","pattern":"^[0-9a-fA-F-]{32,36}$","title":"Credential Key"}},{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionUserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sub/{username}/{credential_key}/usage":{"get":{"tags":["Subscription"],"summary":"User Get Usage By Key","description":"Key-based variant of the usage endpoint.","operationId":"user_get_usage_by_key","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"credential_key","in":"path","required":true,"schema":{"type":"string","pattern":"^[0-9a-fA-F-]{32,36}$","title":"Credential Key"}},{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sub/{username}/{credential_key}/{client_type}":{"get":{"tags":["Subscription"],"summary":"User Subscription With Client Type By Key","operationId":"user_subscription_with_client_type_by_key","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"credential_key","in":"path","required":true,"schema":{"type":"string","pattern":"^[0-9a-fA-F-]{32,36}$","title":"Credential Key"}},{"name":"client_type","in":"path","required":true,"schema":{"type":"string","title":"Client Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sub/{identifier}/{client_type}":{"get":{"tags":["Subscription"],"summary":"User Subscription With Client Type","operationId":"user_subscription_with_client_type","parameters":[{"name":"identifier","in":"path","required":true,"schema":{"type":"string","title":"Identifier"}},{"name":"client_type","in":"path","required":true,"schema":{"type":"string","title":"Client Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/system":{"get":{"tags":["System"],"summary":"Get System Stats","description":"Fetch system stats including CPU and user metrics.","operationId":"get_system_stats","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemStats"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/maintenance/info":{"get":{"tags":["System"],"summary":"Get Maintenance Info","description":"Return maintenance service insights (panel/node images).","operationId":"get_maintenance_info","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/maintenance/update":{"post":{"tags":["System"],"summary":"Update Panel From Maintenance","description":"Trigger the maintenance service to pull the latest panel/node images.","operationId":"update_panel_from_maintenance","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/maintenance/restart":{"post":{"tags":["System"],"summary":"Restart Panel From Maintenance","description":"Ask the maintenance service to restart the Rebecca stack.","operationId":"restart_panel_from_maintenance","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/maintenance/soft-reload":{"post":{"tags":["System"],"summary":"Soft Reload Panel From Maintenance","description":"Soft reload the panel without restarting Xray core or nodes.\n\nThis reloads configuration from database and invalidates caches,\nbut keeps all connections active. Use this when you want to refresh\nthe panel state without interrupting active connections.","operationId":"soft_reload_panel_from_maintenance","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/inbounds":{"get":{"tags":["System"],"summary":"Get Inbounds","description":"Retrieve inbound configurations grouped by protocol.","operationId":"get_inbounds","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"items":{"$ref":"#/components/schemas/ProxyInbound"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ProxyTypes"},"type":"object","title":"Response Get Inbounds Api Inbounds Get"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["System"],"summary":"Create Inbound","operationId":"create_inbound","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/inbounds/full":{"get":{"tags":["System"],"summary":"Get Inbounds Full","description":"Return detailed inbound definitions for manageable protocols.","operationId":"get_inbounds_full","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/xray/vlessenc":{"get":{"tags":["System"],"summary":"Generate Vless Encryption Keys","description":"Run `xray vlessenc` to generate authentication/encryption suggestions.","operationId":"generate_vless_encryption_keys","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/xray/reality-keypair":{"get":{"tags":["System"],"summary":"Generate Reality Keypair","description":"Generate a REALITY key pair using Xray's x25519 command.","operationId":"generate_reality_keypair","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/system/redis-status":{"get":{"tags":["System"],"summary":"Redis Status","operationId":"redis_status","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/xray/reality-shortid":{"get":{"tags":["System"],"summary":"Generate Reality Shortid","description":"Generate a REALITY short ID (8 hex characters).","operationId":"generate_reality_shortid","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/xray/mldsa65":{"get":{"tags":["System"],"summary":"Generate Mldsa65","description":"Generate an ML-DSA-65 keypair using Xray's mldsa65 command.","operationId":"generate_mldsa65","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/xray/ech":{"get":{"tags":["System"],"summary":"Generate Ech Cert","description":"Generate an ECH certificate using Xray's tls ech command.","operationId":"generate_ech_cert","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"sni","in":"query","required":true,"schema":{"type":"string","title":"Sni"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/inbounds/{tag}":{"get":{"tags":["System"],"summary":"Get Inbound Detail","operationId":"get_inbound_detail","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tag","in":"path","required":true,"schema":{"type":"string","title":"Tag"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["System"],"summary":"Update Inbound","operationId":"update_inbound","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tag","in":"path","required":true,"schema":{"type":"string","title":"Tag"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["System"],"summary":"Delete Inbound","operationId":"delete_inbound","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"tag","in":"path","required":true,"schema":{"type":"string","title":"Tag"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hosts":{"get":{"tags":["System"],"summary":"Get Hosts","description":"Get a list of proxy hosts grouped by inbound tag.","operationId":"get_hosts","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"items":{"$ref":"#/components/schemas/ProxyHost"},"type":"array"},"type":"object","title":"Response Get Hosts Api Hosts Get"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["System"],"summary":"Modify Hosts","description":"Modify proxy hosts and update the configuration.","operationId":"modify_hosts","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":{"items":{"$ref":"#/components/schemas/ProxyHost"},"type":"array"},"type":"object","title":"Modified Hosts"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"items":{"$ref":"#/components/schemas/ProxyHost"},"type":"array"},"type":"object","title":"Response Modify Hosts Api Hosts Put"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/user_template":{"post":{"tags":["User Template"],"summary":"Add User Template","description":"Add a new user template\n\n- **name** can be up to 64 characters\n- **data_limit** must be in bytes and larger or equal to 0\n- **expire_duration** must be in seconds and larger or equat to 0\n- **inbounds** dictionary of protocol:inbound_tags, empty means all inbounds","operationId":"add_user_template","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserTemplateCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["User Template"],"summary":"Get User Templates","description":"Get a list of User Templates with optional pagination","operationId":"get_user_templates","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserTemplateResponse"},"title":"Response Get User Templates Api User Template Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user_template/{template_id}":{"get":{"tags":["User Template"],"summary":"Get User Template Endpoint","description":"Get User Template information with id","operationId":"get_user_template_endpoint","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"integer","title":"Template Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["User Template"],"summary":"Modify User Template","description":"Modify User Template\n\n- **name** can be up to 64 characters\n- **data_limit** must be in bytes and larger or equal to 0\n- **expire_duration** must be in seconds and larger or equat to 0\n- **inbounds** dictionary of protocol:inbound_tags, empty means all inbounds","operationId":"modify_user_template","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"integer","title":"Template Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserTemplateModify"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserTemplateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["User Template"],"summary":"Remove User Template","description":"Remove a User Template by its ID","operationId":"remove_user_template","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_id","in":"path","required":true,"schema":{"type":"integer","title":"Template Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/users":{"post":{"tags":["User"],"summary":"Add User","description":"Add a new user (service mode if service_id provided, otherwise no-service legacy mode).\n\nCompatible with Marzban API: accepts UserCreate directly when no service_id is provided.","operationId":"add_user","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Payload"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPException"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Conflict"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/user":{"post":{"tags":["User"],"summary":"Add User","description":"Add a new user (service mode if service_id provided, otherwise no-service legacy mode).\n\nCompatible with Marzban API: accepts UserCreate directly when no service_id is provided.","operationId":"add_user","requestBody":{"content":{"application/json":{"schema":{"type":"object","title":"Payload"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPException"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Conflict"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/user/{username}":{"get":{"tags":["User"],"summary":"Get User","description":"Get user information","operationId":"get_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["User"],"summary":"Modify User","description":"Modify an existing user\n\n- **username**: Cannot be changed. Used to identify the user.\n- **status**: User's new status. Can be 'active', 'disabled', 'on_hold', 'limited', or 'expired'.\n- **expire**: UTC timestamp for new account expiration. Set to `0` for unlimited, `null` for no change.\n- **data_limit**: New max data usage in bytes (e.g., `1073741824` for 1GB). Set to `0` for unlimited, `null` for no change.\n- **data_limit_reset_strategy**: New strategy for data limit reset. Options include 'daily', 'weekly', 'monthly', or 'no_reset'.\n- **proxies**: Dictionary of new protocol settings (e.g., `vmess`, `vless`). Empty dictionary means no change.\n- **inbounds**: Dictionary of new protocol tags to specify inbound connections. Empty dictionary means no change.\n- **note**: New optional text for additional user information or notes. `null` means no change.\n- **on_hold_timeout**: New UTC timestamp for when `on_hold` status should start or end. Only applicable if status is changed to 'on_hold'.\n- **on_hold_expire_duration**: New duration (in seconds) for how long the user should stay in `on_hold` status. Only applicable if status is changed to 'on_hold'.\n- **next_plan**: Next user plan (resets after use).\n\nNote: Fields set to `null` or omitted will not be modified.","operationId":"modify_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserModify"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPException"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["User"],"summary":"Remove User","description":"Remove a user","operationId":"remove_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/users/{username}":{"put":{"tags":["User"],"summary":"Modify User","description":"Modify an existing user\n\n- **username**: Cannot be changed. Used to identify the user.\n- **status**: User's new status. Can be 'active', 'disabled', 'on_hold', 'limited', or 'expired'.\n- **expire**: UTC timestamp for new account expiration. Set to `0` for unlimited, `null` for no change.\n- **data_limit**: New max data usage in bytes (e.g., `1073741824` for 1GB). Set to `0` for unlimited, `null` for no change.\n- **data_limit_reset_strategy**: New strategy for data limit reset. Options include 'daily', 'weekly', 'monthly', or 'no_reset'.\n- **proxies**: Dictionary of new protocol settings (e.g., `vmess`, `vless`). Empty dictionary means no change.\n- **inbounds**: Dictionary of new protocol tags to specify inbound connections. Empty dictionary means no change.\n- **note**: New optional text for additional user information or notes. `null` means no change.\n- **on_hold_timeout**: New UTC timestamp for when `on_hold` status should start or end. Only applicable if status is changed to 'on_hold'.\n- **on_hold_expire_duration**: New duration (in seconds) for how long the user should stay in `on_hold` status. Only applicable if status is changed to 'on_hold'.\n- **next_plan**: Next user plan (resets after use).\n\nNote: Fields set to `null` or omitted will not be modified.","operationId":"modify_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserModify"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPException"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/{username}/reset":{"post":{"tags":["User"],"summary":"Reset User Data Usage","description":"Reset user data usage","operationId":"reset_user_data_usage","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/{username}/revoke_sub":{"post":{"tags":["User"],"summary":"Revoke User Subscription","description":"Revoke users subscription (Subscription link and proxies)","operationId":"revoke_user_subscription","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users":{"get":{"tags":["User"],"summary":"Get Users","description":"Get all users\n\n- **filter**: repeatable advanced filter keys (online, offline, finished, limit, unlimited, sub_not_updated, sub_never_updated, expired, limited, disabled, on_hold).\n- **service_id**: Filter users who belong to a specific service.","operationId":"get_users","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","title":"Limit"}},{"name":"username","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"},"title":"Username"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"admin","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Admin"}},{"name":"status","in":"query","required":false,"schema":{"$ref":"#/components/schemas/UserStatus"}},{"name":"filter","in":"query","required":false,"schema":{"type":"array","items":{"type":"string"},"title":"Filter"}},{"name":"service_id","in":"query","required":false,"schema":{"type":"integer","title":"Service Id"}},{"name":"sort","in":"query","required":false,"schema":{"type":"string","title":"Sort"}},{"name":"links","in":"query","required":false,"schema":{"type":"boolean","description":"Include full config links for each user","default":false,"title":"Links"},"description":"Include full config links for each user"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsersResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPException"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/actions":{"post":{"tags":["User"],"summary":"Perform Users Bulk Action","description":"Perform advanced bulk operations across all users.","operationId":"perform_users_bulk_action","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkUsersActionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/user/{username}/usage":{"get":{"tags":["User"],"summary":"Get User Usage","description":"Get users usage","operationId":"get_user_usage","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUsagesResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/{username}/active-next":{"post":{"tags":["User"],"summary":"Active Next Plan","description":"Reset user by next plan","operationId":"active_next_plan","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/usage":{"get":{"tags":["User"],"summary":"Get Users Usage","description":"Get all users usage","operationId":"get_users_usage","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}},{"name":"admin","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Admin"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsersUsagesResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/{username}/set-owner":{"put":{"tags":["User"],"summary":"Set Owner","description":"Set a new owner (admin) for a user.","operationId":"set_owner","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"admin_username","in":"query","required":true,"schema":{"type":"string","title":"Admin Username"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/expired":{"delete":{"tags":["User"],"summary":"Delete Expired Users","description":"Delete users who have expired within the specified date range.\n\n- **expired_after** UTC datetime (optional)\n- **expired_before** UTC datetime (optional)\n- At least one of expired_after or expired_before must be provided","operationId":"delete_expired_users","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"expired_after","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"examples":["2024-01-01T00:00:00"],"title":"Expired After"}},{"name":"expired_before","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"examples":["2024-01-31T23:59:59"],"title":"Expired Before"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"},"title":"Response Delete Expired Users Api Users Expired Delete"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Base","operationId":"base","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/api/v2/services":{"get":{"tags":["Service V2"],"summary":"Get Services","operationId":"get_services","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceListResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Service V2"],"summary":"Create Service","operationId":"create_service","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceDetail"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/services/{service_id}":{"get":{"tags":["Service V2"],"summary":"Get Service Detail","operationId":"get_service_detail","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceDetail"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Service V2"],"summary":"Modify Service","operationId":"modify_service","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceModify"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceDetail"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Service V2"],"summary":"Delete Service","operationId":"delete_service","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceDeletePayload","default":{"mode":"transfer_users","unlink_admins":false}}}}},"responses":{"204":{"description":"Successful Response"},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/services/{service_id}/auto-inbound":{"post":{"tags":["Service V2"],"summary":"Create Service Auto Inbound","operationId":"create_service_auto_inbound","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Service V2"],"summary":"Delete Service Auto Inbound","operationId":"delete_service_auto_inbound","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/services/{service_id}/reset-usage":{"post":{"tags":["Service V2"],"summary":"Reset Service Usage","operationId":"reset_service_usage","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceDetail"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/services/{service_id}/usage/timeseries":{"get":{"tags":["Service V2"],"summary":"Get Service Usage Timeseries","operationId":"get_service_usage_timeseries","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End"}},{"name":"granularity","in":"query","required":false,"schema":{"type":"string","default":"day","title":"Granularity"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceUsageTimeseries"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/services/{service_id}/usage/admins":{"get":{"tags":["Service V2"],"summary":"Get Service Usage By Admin","operationId":"get_service_usage_by_admin","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceAdminUsageResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/services/{service_id}/usage/admin-timeseries":{"get":{"tags":["Service V2"],"summary":"Get Service Admin Usage Timeseries","operationId":"get_service_admin_usage_timeseries","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}},{"name":"admin_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Id"}},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End"}},{"name":"granularity","in":"query","required":false,"schema":{"type":"string","default":"day","title":"Granularity"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServiceAdminTimeseries"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/services/{service_id}/users":{"get":{"tags":["Service V2"],"summary":"Get Service Users","operationId":"get_service_users","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsersResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v2/services/{service_id}/users/actions":{"post":{"tags":["Service V2"],"summary":"Perform Service Users Action","operationId":"perform_service_users_action","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"service_id","in":"path","required":true,"schema":{"type":"integer","title":"Service Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkUsersActionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/settings/telegram":{"get":{"tags":["Settings"],"summary":"Get Telegram Settings","description":"Retrieve telegram integration settings.","operationId":"get_telegram_settings","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramSettingsResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Settings"],"summary":"Update Telegram Settings","description":"Update telegram integration settings.","operationId":"update_telegram_settings","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramSettingsUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramSettingsResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/settings/panel":{"get":{"tags":["Settings"],"summary":"Get Panel Settings","description":"Retrieve general panel settings.","operationId":"get_panel_settings","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanelSettingsResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Settings"],"summary":"Update Panel Settings","description":"Update general panel settings.","operationId":"update_panel_settings","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanelSettingsUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PanelSettingsResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/settings/subscriptions":{"get":{"tags":["Settings"],"summary":"Get Subscription Settings","description":"Retrieve subscription template/json settings along with admin overrides and certificate records.","operationId":"get_subscription_settings","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionSettingsBundle"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["Settings"],"summary":"Update Subscription Settings","description":"Update global subscription template and JSON settings.","operationId":"update_subscription_settings","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionTemplateSettingsUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionTemplateSettings"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/settings/subscriptions/admins/{admin_id}":{"put":{"tags":["Settings"],"summary":"Update Admin Subscription Settings","operationId":"update_admin_subscription_settings","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"admin_id","in":"path","required":true,"schema":{"type":"integer","title":"Admin Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminSubscriptionSettingsUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminSubscriptionSettingsResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/settings/subscriptions/templates/{template_key}":{"get":{"tags":["Settings"],"summary":"Get Subscription Template Content","operationId":"get_subscription_template_content","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_key","in":"path","required":true,"schema":{"type":"string","title":"Template Key"}},{"name":"admin_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Admin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionTemplateContentResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Settings"],"summary":"Update Subscription Template Content","operationId":"update_subscription_template_content","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"template_key","in":"path","required":true,"schema":{"type":"string","title":"Template Key"}},{"name":"admin_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Admin Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionTemplateContentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionTemplateContentResponse"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"404":{"description":"Not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotFound"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/settings/subscriptions/certificates/issue":{"post":{"tags":["Settings"],"summary":"Issue Certificate","operationId":"issue_certificate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCertificateIssueRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCertificate"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/settings/subscriptions/certificates/renew":{"post":{"tags":["Settings"],"summary":"Renew Certificate","operationId":"renew_certificate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCertificateRenewRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/SubscriptionCertificate"},{"type":"null"}],"title":"Response Renew Certificate Api Settings Subscriptions Certificates Renew Post"}}}},"401":{"description":"Unauthorized","headers":{"WWW-Authenticate":{"description":"Authentication type","schema":{"type":"string"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Forbidden"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/myaccount":{"get":{"tags":["MyAccount"],"summary":"Get Myaccount","operationId":"get_myaccount","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MyAccountResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/myaccount/change_password":{"post":{"tags":["MyAccount"],"summary":"Change Myaccount Password","operationId":"change_myaccount_password","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangePasswordPayload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/myaccount/api-keys":{"get":{"tags":["MyAccount"],"summary":"List Api Keys","operationId":"list_api_keys","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ApiKeyResponse"},"type":"array","title":"Response List Api Keys Api Myaccount Api Keys Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["MyAccount"],"summary":"Create Api Key","operationId":"create_api_key","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreatePayload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/myaccount/api-keys/{key_id}":{"delete":{"tags":["MyAccount"],"summary":"Delete Api Key","operationId":"delete_api_key","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"integer","title":"Key Id"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyDeletePayload"}}}},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/myaccount/nodes":{"get":{"tags":["MyAccount"],"summary":"Get Myaccount Nodes","operationId":"get_myaccount_nodes","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"start","in":"query","required":false,"schema":{"type":"string","default":"","title":"Start"}},{"name":"end","in":"query","required":false,"schema":{"type":"string","default":"","title":"End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Admin":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"username":{"type":"string","title":"Username"},"role":{"$ref":"#/components/schemas/AdminRole","default":"standard"},"permissions":{"$ref":"#/components/schemas/AdminPermissions"},"services":{"items":{"type":"integer"},"type":"array","title":"Services","description":"Service IDs linked to this admin"},"status":{"$ref":"#/components/schemas/AdminStatus","default":"active"},"disabled_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Disabled Reason","description":"Reason provided by sudo admin when account is disabled"},"telegram_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Telegram Id","description":"Telegram user ID for notifications"},"subscription_domain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Domain","description":"Custom subscription domain for this admin's links"},"subscription_settings":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Subscription Settings"},"users_usage":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Users Usage","description":"Total data usage by admin's users in bytes"},"data_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit","description":"Maximum data limit for admin in bytes (null = unlimited)","example":107374182400},"users_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Users Limit","description":"Maximum number of users admin can create (null = unlimited)","example":100},"active_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Active Users"},"online_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Online Users"},"limited_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limited Users"},"expired_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expired Users"},"on_hold_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"On Hold Users"},"disabled_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Disabled Users"},"data_limit_allocated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit Allocated","description":"Total data limit assigned to this admin's users"},"unlimited_users_usage":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Unlimited Users Usage","description":"Total usage reported by unlimited users under this admin"},"reset_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Reset Bytes","description":"Traffic that was reset for this admin's users"}},"type":"object","required":["username"],"title":"Admin"},"AdminCreate":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"username":{"type":"string","title":"Username"},"role":{"$ref":"#/components/schemas/AdminRole","default":"standard"},"permissions":{"$ref":"#/components/schemas/AdminPermissions"},"services":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Services","description":"Service IDs to assign to this admin"},"status":{"$ref":"#/components/schemas/AdminStatus","default":"active"},"disabled_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Disabled Reason","description":"Reason provided by sudo admin when account is disabled"},"telegram_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Telegram Id","description":"Telegram user ID for notifications"},"subscription_domain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Domain","description":"Custom subscription domain for this admin's links"},"subscription_settings":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Subscription Settings"},"users_usage":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Users Usage","description":"Total data usage by admin's users in bytes"},"data_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit","description":"Maximum data limit in bytes (null = unlimited)","example":107374182400},"users_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Users Limit","description":"Maximum number of users (null = unlimited)","example":100},"active_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Active Users"},"online_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Online Users"},"limited_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limited Users"},"expired_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expired Users"},"on_hold_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"On Hold Users"},"disabled_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Disabled Users"},"data_limit_allocated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit Allocated","description":"Total data limit assigned to this admin's users"},"unlimited_users_usage":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Unlimited Users Usage","description":"Total usage reported by unlimited users under this admin"},"reset_bytes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Reset Bytes","description":"Traffic that was reset for this admin's users"},"password":{"type":"string","minLength":6,"title":"Password","description":"Admin password (minimum 6 characters)"}},"type":"object","required":["username","password"],"title":"AdminCreate"},"AdminDisablePayload":{"properties":{"reason":{"type":"string","maxLength":512,"minLength":3,"title":"Reason","description":"Reason shown to the disabled admin"}},"type":"object","required":["reason"],"title":"AdminDisablePayload"},"AdminManagementPermissions":{"properties":{"can_view":{"type":"boolean","title":"Can View","default":false},"can_edit":{"type":"boolean","title":"Can Edit","default":false},"can_manage_sudo":{"type":"boolean","title":"Can Manage Sudo","default":false}},"type":"object","title":"AdminManagementPermissions"},"AdminModify":{"properties":{"password":{"anyOf":[{"type":"string","minLength":6},{"type":"null"}],"title":"Password","description":"New password (optional, minimum 6 characters)"},"role":{"anyOf":[{"$ref":"#/components/schemas/AdminRole"},{"type":"null"}],"description":"Access level for the admin account"},"permissions":{"anyOf":[{"$ref":"#/components/schemas/AdminPermissions"},{"type":"null"}],"description":"Fine-grained permission overrides for this admin"},"services":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Services","description":"Replace admin's services with this list of IDs"},"telegram_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Telegram Id","description":"Telegram user ID for notifications"},"subscription_domain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Domain","description":"Custom subscription domain for this admin"},"subscription_settings":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Subscription Settings"},"data_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit","description":"Maximum data limit in bytes (null = unlimited)","example":107374182400},"users_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Users Limit","description":"Maximum number of users (null = unlimited)","example":100}},"type":"object","title":"AdminModify"},"AdminOverviewStats":{"properties":{"total_admins":{"type":"integer","title":"Total Admins"},"sudo_admins":{"type":"integer","title":"Sudo Admins"},"full_access_admins":{"type":"integer","title":"Full Access Admins"},"standard_admins":{"type":"integer","title":"Standard Admins"},"top_admin_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Top Admin Username"},"top_admin_usage":{"type":"integer","title":"Top Admin Usage","default":0}},"type":"object","required":["total_admins","sudo_admins","full_access_admins","standard_admins"],"title":"AdminOverviewStats"},"AdminPermissions":{"properties":{"users":{"$ref":"#/components/schemas/UserPermissionSettings"},"admin_management":{"$ref":"#/components/schemas/AdminManagementPermissions"},"sections":{"$ref":"#/components/schemas/SectionPermissionSettings"},"self_permissions":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Self Permissions"}},"type":"object","title":"AdminPermissions"},"AdminRole":{"type":"string","enum":["standard","reseller","sudo","full_access"],"title":"AdminRole"},"AdminStatus":{"type":"string","enum":["active","disabled","deleted"],"title":"AdminStatus"},"AdminSubscriptionOverrides":{"properties":{"subscription_url_prefix":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Url Prefix"},"subscription_profile_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Profile Title"},"subscription_support_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Support Url"},"subscription_update_interval":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Update Interval"},"custom_templates_directory":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Templates Directory"},"clash_subscription_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Clash Subscription Template"},"clash_settings_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Clash Settings Template"},"subscription_page_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Page Template"},"home_page_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Home Page Template"},"v2ray_subscription_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"V2Ray Subscription Template"},"v2ray_settings_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"V2Ray Settings Template"},"singbox_subscription_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Singbox Subscription Template"},"singbox_settings_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Singbox Settings Template"},"mux_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mux Template"},"use_custom_json_default":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Custom Json Default"},"use_custom_json_for_v2rayn":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Custom Json For V2Rayn"},"use_custom_json_for_v2rayng":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Custom Json For V2Rayng"},"use_custom_json_for_streisand":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Custom Json For Streisand"},"use_custom_json_for_happ":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Custom Json For Happ"}},"type":"object","title":"AdminSubscriptionOverrides"},"AdminSubscriptionSettingsResponse":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"subscription_domain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Domain"},"subscription_settings":{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"boolean"},{"type":"null"}]},"type":"object","title":"Subscription Settings"}},"type":"object","required":["id","username"],"title":"AdminSubscriptionSettingsResponse"},"AdminSubscriptionSettingsUpdate":{"properties":{"subscription_domain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Domain"},"subscription_settings":{"anyOf":[{"$ref":"#/components/schemas/AdminSubscriptionOverrides"},{"type":"null"}]}},"type":"object","title":"AdminSubscriptionSettingsUpdate"},"AdminsListResponse":{"properties":{"admins":{"items":{"$ref":"#/components/schemas/Admin"},"type":"array","title":"Admins"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["admins","total"],"title":"AdminsListResponse"},"AdsResponse":{"properties":{"default":{"$ref":"#/components/schemas/PlacementAds"},"locales":{"additionalProperties":{"$ref":"#/components/schemas/PlacementAds"},"type":"object","title":"Locales"}},"type":"object","title":"AdsResponse"},"AdvancedUserAction":{"type":"string","enum":["extend_expire","reduce_expire","increase_traffic","decrease_traffic","cleanup_status","activate_users","disable_users","change_service"],"title":"AdvancedUserAction"},"Advertisement":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","enum":["text","image"],"title":"Type","default":"text"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"},"image_url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Image Url"},"link":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Link"},"cta":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cta"},"metadata":{"type":"object","title":"Metadata"}},"type":"object","required":["id"],"title":"Advertisement","description":"Basic advertisement unit that can render as either text or image."},"ApiKeyCreatePayload":{"properties":{"lifetime":{"type":"string","title":"Lifetime","description":"one of: 1m,3m,6m,12m,forever"}},"type":"object","required":["lifetime"],"title":"ApiKeyCreatePayload"},"ApiKeyDeletePayload":{"properties":{"current_password":{"type":"string","minLength":1,"title":"Current Password"}},"type":"object","required":["current_password"],"title":"ApiKeyDeletePayload"},"ApiKeyResponse":{"properties":{"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"masked_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Masked Key"},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"}},"type":"object","required":["id","created_at"],"title":"ApiKeyResponse"},"Body_admin_token_api_admin_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_admin_token_api_admin_token_post"},"BulkUsersActionRequest":{"properties":{"action":{"$ref":"#/components/schemas/AdvancedUserAction"},"days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Days"},"gigabytes":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Gigabytes"},"statuses":{"anyOf":[{"items":{"$ref":"#/components/schemas/UserStatus"},"type":"array"},{"type":"null"}],"title":"Statuses"},"scope":{"anyOf":[{"items":{"$ref":"#/components/schemas/UserStatus"},"type":"array"},{"type":"null"}],"title":"Scope"},"admin_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Username"},"service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Service Id"},"target_service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Service Id"},"service_id_is_null":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Service Id Is Null"}},"type":"object","required":["action"],"title":"BulkUsersActionRequest"},"ChangePasswordPayload":{"properties":{"current_password":{"type":"string","minLength":6,"title":"Current Password"},"new_password":{"type":"string","minLength":6,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"ChangePasswordPayload"},"Conflict":{"properties":{"detail":{"type":"string","title":"Detail","default":"Entity already exists"}},"type":"object","title":"Conflict"},"CoreStats":{"properties":{"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version"},"started":{"type":"boolean","title":"Started"},"logs_websocket":{"type":"string","title":"Logs Websocket"}},"type":"object","required":["version","started","logs_websocket"],"title":"CoreStats"},"Forbidden":{"properties":{"detail":{"type":"string","title":"Detail","default":"You are not allowed to ..."}},"type":"object","title":"Forbidden"},"GeoMode":{"type":"string","enum":["default","custom"],"title":"GeoMode"},"HTTPException":{"properties":{"detail":{"type":"string","title":"Detail"}},"type":"object","required":["detail"],"title":"HTTPException"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HistoryEntry":{"properties":{"timestamp":{"type":"integer","title":"Timestamp"},"value":{"type":"number","title":"Value"}},"type":"object","required":["timestamp","value"],"title":"HistoryEntry"},"MasterNodeResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name","default":"Master"},"status":{"$ref":"#/components/schemas/NodeStatus"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"data_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit"},"uplink":{"type":"integer","title":"Uplink","default":0},"downlink":{"type":"integer","title":"Downlink","default":0},"total_usage":{"type":"integer","title":"Total Usage","default":0},"remaining_data":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Remaining Data"},"limit_exceeded":{"type":"boolean","title":"Limit Exceeded","default":false},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["id","status"],"title":"MasterNodeResponse"},"MasterNodeUpdate":{"properties":{"data_limit":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Data Limit","description":"Maximum data limit for the master node in bytes (null = unlimited)","example":107374182400}},"additionalProperties":false,"type":"object","title":"MasterNodeUpdate"},"MyAccountNodeUsage":{"properties":{"node_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Node Id"},"node_name":{"type":"string","title":"Node Name"},"used_traffic":{"type":"integer","title":"Used Traffic"}},"type":"object","required":["node_name","used_traffic"],"title":"MyAccountNodeUsage"},"MyAccountResponse":{"properties":{"data_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit"},"used_traffic":{"type":"integer","title":"Used Traffic"},"remaining_data":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Remaining Data"},"users_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Users Limit"},"current_users_count":{"type":"integer","title":"Current Users Count"},"remaining_users":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Remaining Users"},"daily_usage":{"items":{"$ref":"#/components/schemas/MyAccountUsagePoint"},"type":"array","title":"Daily Usage"},"node_usages":{"items":{"$ref":"#/components/schemas/MyAccountNodeUsage"},"type":"array","title":"Node Usages"}},"type":"object","required":["data_limit","used_traffic","remaining_data","users_limit","current_users_count","remaining_users"],"title":"MyAccountResponse"},"MyAccountUsagePoint":{"properties":{"date":{"type":"string","title":"Date"},"used_traffic":{"type":"integer","title":"Used Traffic"}},"type":"object","required":["date","used_traffic"],"title":"MyAccountUsagePoint"},"NetworkHistoryEntry":{"properties":{"timestamp":{"type":"integer","title":"Timestamp"},"incoming":{"type":"integer","title":"Incoming"},"outgoing":{"type":"integer","title":"Outgoing"}},"type":"object","required":["timestamp","incoming","outgoing"],"title":"NetworkHistoryEntry"},"NextPlanModel":{"properties":{"data_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit"},"expire":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expire"},"add_remaining_traffic":{"type":"boolean","title":"Add Remaining Traffic","default":false},"fire_on_either":{"type":"boolean","title":"Fire On Either","default":true},"increase_data_limit":{"type":"boolean","title":"Increase Data Limit","default":false},"start_on_first_connect":{"type":"boolean","title":"Start On First Connect","default":false},"trigger_on":{"type":"string","title":"Trigger On","default":"either"},"position":{"type":"integer","title":"Position","default":0}},"type":"object","title":"NextPlanModel"},"NodeCreate":{"properties":{"name":{"type":"string","title":"Name"},"address":{"type":"string","title":"Address"},"port":{"type":"integer","title":"Port","default":62050},"api_port":{"type":"integer","title":"Api Port","default":62051},"usage_coefficient":{"type":"number","exclusiveMinimum":0.0,"title":"Usage Coefficient","default":1.0},"data_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit","description":"Maximum data limit for the node in bytes (null = unlimited)","example":107374182400},"use_nobetci":{"type":"boolean","title":"Use Nobetci","default":false},"nobetci_port":{"anyOf":[{"type":"integer","maximum":65535.0,"minimum":1.0},{"type":"null"}],"title":"Nobetci Port","description":"Port to use when Nobetci integration is enabled"},"add_as_new_host":{"type":"boolean","title":"Add As New Host","default":true},"geo_mode":{"$ref":"#/components/schemas/GeoMode","default":"default"},"certificate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Certificate"},"certificate_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Certificate Key"},"certificate_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Certificate Token"}},"type":"object","required":["name","address"],"title":"NodeCreate","example":{"add_as_new_host":true,"address":"192.168.1.1","api_port":62051,"geo_mode":"default","name":"DE node","port":62050,"usage_coefficient":1}},"NodeModify":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","nullable":true},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address","nullable":true},"port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Port","nullable":true},"api_port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Api Port","nullable":true},"usage_coefficient":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Usage Coefficient","nullable":true},"data_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit","nullable":true},"use_nobetci":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Nobetci","nullable":true},"nobetci_port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Nobetci Port","nullable":true},"status":{"anyOf":[{"$ref":"#/components/schemas/NodeStatus"},{"type":"null"}],"nullable":true},"geo_mode":{"anyOf":[{"$ref":"#/components/schemas/GeoMode"},{"type":"null"}],"nullable":true}},"type":"object","title":"NodeModify","example":{"address":"192.168.1.1","api_port":62051,"geo_mode":"default","name":"DE node","port":62050,"status":"disabled","usage_coefficient":1.0}},"NodeResponse":{"properties":{"name":{"type":"string","title":"Name"},"address":{"type":"string","title":"Address"},"port":{"type":"integer","title":"Port","default":62050},"api_port":{"type":"integer","title":"Api Port","default":62051},"usage_coefficient":{"type":"number","exclusiveMinimum":0.0,"title":"Usage Coefficient","default":1.0},"data_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit","description":"Maximum data limit for the node in bytes (null = unlimited)","example":107374182400},"use_nobetci":{"type":"boolean","title":"Use Nobetci","default":false},"nobetci_port":{"anyOf":[{"type":"integer","maximum":65535.0,"minimum":1.0},{"type":"null"}],"title":"Nobetci Port","description":"Port to use when Nobetci integration is enabled"},"id":{"type":"integer","title":"Id"},"xray_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Xray Version"},"node_service_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Node Service Version"},"status":{"$ref":"#/components/schemas/NodeStatus"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"geo_mode":{"$ref":"#/components/schemas/GeoMode"},"uplink":{"type":"integer","title":"Uplink","default":0},"downlink":{"type":"integer","title":"Downlink","default":0},"has_custom_certificate":{"type":"boolean","title":"Has Custom Certificate","default":false},"uses_default_certificate":{"type":"boolean","title":"Uses Default Certificate","default":false},"certificate_public_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Certificate Public Key"},"node_certificate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Node Certificate"}},"type":"object","required":["name","address","id","status","geo_mode"],"title":"NodeResponse"},"NodeSettings":{"properties":{"min_node_version":{"type":"string","title":"Min Node Version","default":"v0.2.0"},"certificate":{"type":"string","title":"Certificate"},"node_certificate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Node Certificate"},"node_certificate_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Node Certificate Key"}},"type":"object","required":["certificate"],"title":"NodeSettings"},"NodeStatus":{"type":"string","enum":["connected","connecting","error","disabled","limited"],"title":"NodeStatus"},"NodeUsageResponse":{"properties":{"node_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Node Id"},"node_name":{"type":"string","title":"Node Name"},"uplink":{"type":"integer","title":"Uplink"},"downlink":{"type":"integer","title":"Downlink"}},"type":"object","required":["node_name","uplink","downlink"],"title":"NodeUsageResponse"},"NodesUsageResponse":{"properties":{"usages":{"items":{"$ref":"#/components/schemas/NodeUsageResponse"},"type":"array","title":"Usages"}},"type":"object","required":["usages"],"title":"NodesUsageResponse"},"NotFound":{"properties":{"detail":{"type":"string","title":"Detail","default":"Entity {} not found"}},"type":"object","title":"NotFound"},"PanelSettingsResponse":{"properties":{"use_nobetci":{"type":"boolean","title":"Use Nobetci","default":false},"default_subscription_type":{"$ref":"#/components/schemas/SubscriptionLinkType","default":"key"},"access_insights_enabled":{"type":"boolean","title":"Access Insights Enabled","default":false}},"type":"object","title":"PanelSettingsResponse"},"PanelSettingsUpdate":{"properties":{"use_nobetci":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Nobetci"},"default_subscription_type":{"anyOf":[{"$ref":"#/components/schemas/SubscriptionLinkType"},{"type":"null"}]},"access_insights_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Access Insights Enabled"}},"type":"object","title":"PanelSettingsUpdate"},"PersonalUsageStats":{"properties":{"total_users":{"type":"integer","title":"Total Users"},"consumed_bytes":{"type":"integer","title":"Consumed Bytes"},"built_bytes":{"type":"integer","title":"Built Bytes"},"reset_bytes":{"type":"integer","title":"Reset Bytes"}},"type":"object","required":["total_users","consumed_bytes","built_bytes","reset_bytes"],"title":"PersonalUsageStats"},"PlacementAds":{"properties":{"header":{"items":{"$ref":"#/components/schemas/Advertisement"},"type":"array","title":"Header"},"sidebar":{"items":{"$ref":"#/components/schemas/Advertisement"},"type":"array","title":"Sidebar"}},"type":"object","title":"PlacementAds"},"ProxyHost":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"remark":{"type":"string","title":"Remark"},"address":{"type":"string","title":"Address"},"port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Port","nullable":true},"sort":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sort","nullable":true},"sni":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sni","nullable":true},"host":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Host","nullable":true},"path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path","nullable":true},"security":{"$ref":"#/components/schemas/ProxyHostSecurity","default":"inbound_default"},"alpn":{"$ref":"#/components/schemas/ProxyHostALPN","default":""},"fingerprint":{"$ref":"#/components/schemas/ProxyHostFingerprint","default":""},"allowinsecure":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Allowinsecure"},"is_disabled":{"type":"boolean","title":"Is Disabled","default":false},"mux_enable":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Mux Enable"},"fragment_setting":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fragment Setting","nullable":true},"noise_setting":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Noise Setting","nullable":true},"random_user_agent":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Random User Agent"},"use_sni_as_host":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Sni As Host"}},"type":"object","required":["remark","address"],"title":"ProxyHost"},"ProxyHostALPN":{"type":"string","enum":["","h3","h2","http/1.1","h3,h2,http/1.1","h3,h2","h2,http/1.1"],"title":"ProxyHostALPN"},"ProxyHostFingerprint":{"type":"string","enum":["","chrome","firefox","safari","ios","android","edge","360","qq","random","randomized"],"title":"ProxyHostFingerprint"},"ProxyHostSecurity":{"type":"string","enum":["inbound_default","none","tls"],"title":"ProxyHostSecurity"},"ProxyInbound":{"properties":{"tag":{"type":"string","title":"Tag"},"protocol":{"$ref":"#/components/schemas/ProxyTypes"},"network":{"type":"string","title":"Network"},"tls":{"type":"string","title":"Tls"},"port":{"anyOf":[{"type":"integer"},{"type":"string"}],"title":"Port"}},"type":"object","required":["tag","protocol","network","tls","port"],"title":"ProxyInbound"},"ProxySettings":{"properties":{},"type":"object","title":"ProxySettings"},"ProxyTypes":{"type":"string","enum":["vmess","vless","trojan","shadowsocks"],"title":"ProxyTypes"},"RedisStats":{"properties":{"enabled":{"type":"boolean","title":"Enabled"},"connected":{"type":"boolean","title":"Connected"},"memory_used":{"type":"integer","title":"Memory Used","default":0},"memory_total":{"type":"integer","title":"Memory Total","default":0},"memory_percent":{"type":"number","title":"Memory Percent","default":0.0},"uptime_seconds":{"type":"integer","title":"Uptime Seconds","default":0},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version"},"keys_count":{"type":"integer","title":"Keys Count","default":0},"keys_cached":{"type":"integer","title":"Keys Cached","default":0},"commands_processed":{"type":"integer","title":"Commands Processed","default":0},"hits":{"type":"integer","title":"Hits","default":0},"misses":{"type":"integer","title":"Misses","default":0},"hit_rate":{"type":"number","title":"Hit Rate","default":0.0}},"type":"object","required":["enabled","connected"],"title":"RedisStats"},"SectionPermissionSettings":{"properties":{"usage":{"type":"boolean","title":"Usage","default":false},"admins":{"type":"boolean","title":"Admins","default":false},"services":{"type":"boolean","title":"Services","default":false},"hosts":{"type":"boolean","title":"Hosts","default":true},"nodes":{"type":"boolean","title":"Nodes","default":false},"integrations":{"type":"boolean","title":"Integrations","default":false},"xray":{"type":"boolean","title":"Xray","default":false}},"type":"object","title":"SectionPermissionSettings"},"ServerIPs":{"properties":{"ipv4":{"type":"string","title":"Ipv4"},"ipv6":{"type":"string","title":"Ipv6"}},"type":"object","required":["ipv4","ipv6"],"title":"ServerIPs"},"ServiceAdmin":{"properties":{"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"},"used_traffic":{"type":"integer","title":"Used Traffic"},"lifetime_used_traffic":{"type":"integer","title":"Lifetime Used Traffic"}},"type":"object","required":["id","username","used_traffic","lifetime_used_traffic"],"title":"ServiceAdmin"},"ServiceAdminTimeseries":{"properties":{"service_id":{"type":"integer","title":"Service Id"},"admin_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Admin Id"},"username":{"type":"string","title":"Username"},"start":{"type":"string","format":"date-time","title":"Start"},"end":{"type":"string","format":"date-time","title":"End"},"granularity":{"type":"string","enum":["day","hour"],"title":"Granularity"},"points":{"items":{"$ref":"#/components/schemas/ServiceUsagePoint"},"type":"array","title":"Points"}},"type":"object","required":["service_id","admin_id","username","start","end","granularity","points"],"title":"ServiceAdminTimeseries"},"ServiceAdminUsage":{"properties":{"admin_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Admin Id"},"username":{"type":"string","title":"Username"},"used_traffic":{"type":"integer","title":"Used Traffic"}},"type":"object","required":["admin_id","username","used_traffic"],"title":"ServiceAdminUsage"},"ServiceAdminUsageResponse":{"properties":{"service_id":{"type":"integer","title":"Service Id"},"start":{"type":"string","format":"date-time","title":"Start"},"end":{"type":"string","format":"date-time","title":"End"},"admins":{"items":{"$ref":"#/components/schemas/ServiceAdminUsage"},"type":"array","title":"Admins"}},"type":"object","required":["service_id","start","end","admins"],"title":"ServiceAdminUsageResponse"},"ServiceBase":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"used_traffic":{"type":"integer","title":"Used Traffic","default":0},"lifetime_used_traffic":{"type":"integer","title":"Lifetime Used Traffic","default":0},"host_count":{"type":"integer","title":"Host Count","default":0},"user_count":{"type":"integer","title":"User Count","default":0},"has_hosts":{"type":"boolean","title":"Has Hosts","default":true},"broken":{"type":"boolean","title":"Broken","default":false}},"type":"object","required":["id","name","description"],"title":"ServiceBase"},"ServiceCreate":{"properties":{"name":{"type":"string","maxLength":128,"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"title":"Description"},"hosts":{"items":{"$ref":"#/components/schemas/ServiceHostAssignment"},"type":"array","title":"Hosts"},"admin_ids":{"items":{"type":"integer"},"type":"array","title":"Admin Ids"}},"type":"object","required":["name"],"title":"ServiceCreate"},"ServiceDeletePayload":{"properties":{"mode":{"type":"string","enum":["delete_users","transfer_users"],"title":"Mode","default":"transfer_users"},"target_service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Service Id"},"unlink_admins":{"type":"boolean","title":"Unlink Admins","default":false}},"type":"object","title":"ServiceDeletePayload"},"ServiceDetail":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"used_traffic":{"type":"integer","title":"Used Traffic","default":0},"lifetime_used_traffic":{"type":"integer","title":"Lifetime Used Traffic","default":0},"host_count":{"type":"integer","title":"Host Count","default":0},"user_count":{"type":"integer","title":"User Count","default":0},"has_hosts":{"type":"boolean","title":"Has Hosts","default":true},"broken":{"type":"boolean","title":"Broken","default":false},"admins":{"items":{"$ref":"#/components/schemas/ServiceAdmin"},"type":"array","title":"Admins"},"hosts":{"items":{"$ref":"#/components/schemas/ServiceHost"},"type":"array","title":"Hosts"},"admin_ids":{"items":{"type":"integer"},"type":"array","title":"Admin Ids"},"host_ids":{"items":{"type":"integer"},"type":"array","title":"Host Ids"}},"type":"object","required":["id","name","description"],"title":"ServiceDetail"},"ServiceHost":{"properties":{"id":{"type":"integer","title":"Id"},"remark":{"type":"string","title":"Remark"},"inbound_tag":{"type":"string","title":"Inbound Tag"},"inbound_protocol":{"type":"string","title":"Inbound Protocol"},"sort":{"type":"integer","title":"Sort"},"address":{"type":"string","title":"Address"},"port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Port"}},"type":"object","required":["id","remark","inbound_tag","inbound_protocol","sort","address","port"],"title":"ServiceHost"},"ServiceHostAssignment":{"properties":{"host_id":{"type":"integer","title":"Host Id"},"sort":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Sort"}},"type":"object","required":["host_id"],"title":"ServiceHostAssignment"},"ServiceListResponse":{"properties":{"services":{"items":{"$ref":"#/components/schemas/ServiceBase"},"type":"array","title":"Services"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["services","total"],"title":"ServiceListResponse"},"ServiceModify":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":128},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":256},{"type":"null"}],"title":"Description"},"hosts":{"anyOf":[{"items":{"$ref":"#/components/schemas/ServiceHostAssignment"},"type":"array"},{"type":"null"}],"title":"Hosts"},"admin_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Admin Ids"}},"type":"object","title":"ServiceModify"},"ServiceUsagePoint":{"properties":{"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"used_traffic":{"type":"integer","title":"Used Traffic"}},"type":"object","required":["timestamp","used_traffic"],"title":"ServiceUsagePoint"},"ServiceUsageTimeseries":{"properties":{"service_id":{"type":"integer","title":"Service Id"},"start":{"type":"string","format":"date-time","title":"Start"},"end":{"type":"string","format":"date-time","title":"End"},"granularity":{"type":"string","enum":["day","hour"],"title":"Granularity"},"points":{"items":{"$ref":"#/components/schemas/ServiceUsagePoint"},"type":"array","title":"Points"}},"type":"object","required":["service_id","start","end","granularity","points"],"title":"ServiceUsageTimeseries"},"StandardAdminsBulkPermissionsPayload":{"properties":{"permissions":{"items":{"$ref":"#/components/schemas/UserPermission"},"type":"array","minItems":1,"title":"Permissions"},"mode":{"type":"string","enum":["disable","restore"],"title":"Mode","default":"disable"}},"type":"object","required":["permissions"],"title":"StandardAdminsBulkPermissionsPayload"},"StandardAdminsBulkPermissionsResponse":{"properties":{"updated":{"type":"integer","title":"Updated"},"mode":{"type":"string","enum":["disable","restore"],"title":"Mode"}},"type":"object","required":["updated","mode"],"title":"StandardAdminsBulkPermissionsResponse"},"SubscriptionCertificate":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"domain":{"type":"string","title":"Domain"},"admin_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Admin Id"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"provider":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Provider"},"alt_names":{"items":{"type":"string"},"type":"array","title":"Alt Names"},"last_issued_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Issued At"},"last_renewed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Renewed At"},"path":{"type":"string","title":"Path"}},"type":"object","required":["domain","path"],"title":"SubscriptionCertificate"},"SubscriptionCertificateIssueRequest":{"properties":{"email":{"type":"string","title":"Email"},"domains":{"items":{"type":"string"},"type":"array","title":"Domains"},"admin_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Admin Id"}},"type":"object","required":["email","domains"],"title":"SubscriptionCertificateIssueRequest"},"SubscriptionCertificateRenewRequest":{"properties":{"domain":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Domain"}},"type":"object","title":"SubscriptionCertificateRenewRequest"},"SubscriptionLinkType":{"type":"string","enum":["username-key","key","token"],"title":"SubscriptionLinkType"},"SubscriptionSettingsBundle":{"properties":{"settings":{"$ref":"#/components/schemas/SubscriptionTemplateSettings"},"admins":{"items":{"$ref":"#/components/schemas/AdminSubscriptionSettingsResponse"},"type":"array","title":"Admins"},"certificates":{"items":{"$ref":"#/components/schemas/SubscriptionCertificate"},"type":"array","title":"Certificates"}},"type":"object","required":["settings"],"title":"SubscriptionSettingsBundle"},"SubscriptionTemplateContentResponse":{"properties":{"template_key":{"type":"string","title":"Template Key"},"template_name":{"type":"string","title":"Template Name"},"custom_directory":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Directory"},"resolved_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resolved Path"},"admin_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Admin Id"},"content":{"type":"string","title":"Content"}},"type":"object","required":["template_key","template_name","content"],"title":"SubscriptionTemplateContentResponse"},"SubscriptionTemplateContentUpdate":{"properties":{"content":{"type":"string","title":"Content"}},"type":"object","required":["content"],"title":"SubscriptionTemplateContentUpdate"},"SubscriptionTemplateSettings":{"properties":{"subscription_url_prefix":{"type":"string","title":"Subscription Url Prefix","default":""},"subscription_profile_title":{"type":"string","title":"Subscription Profile Title","default":"Subscription"},"subscription_support_url":{"type":"string","title":"Subscription Support Url","default":"https://t.me/"},"subscription_update_interval":{"type":"string","title":"Subscription Update Interval","default":"12"},"custom_templates_directory":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Templates Directory"},"clash_subscription_template":{"type":"string","title":"Clash Subscription Template","default":"clash/default.yml"},"clash_settings_template":{"type":"string","title":"Clash Settings Template","default":"clash/settings.yml"},"subscription_page_template":{"type":"string","title":"Subscription Page Template","default":"subscription/index.html"},"home_page_template":{"type":"string","title":"Home Page Template","default":"home/index.html"},"v2ray_subscription_template":{"type":"string","title":"V2Ray Subscription Template","default":"v2ray/default.json"},"v2ray_settings_template":{"type":"string","title":"V2Ray Settings Template","default":"v2ray/settings.json"},"singbox_subscription_template":{"type":"string","title":"Singbox Subscription Template","default":"singbox/default.json"},"singbox_settings_template":{"type":"string","title":"Singbox Settings Template","default":"singbox/settings.json"},"mux_template":{"type":"string","title":"Mux Template","default":"mux/default.json"},"use_custom_json_default":{"type":"boolean","title":"Use Custom Json Default","default":false},"use_custom_json_for_v2rayn":{"type":"boolean","title":"Use Custom Json For V2Rayn","default":false},"use_custom_json_for_v2rayng":{"type":"boolean","title":"Use Custom Json For V2Rayng","default":false},"use_custom_json_for_streisand":{"type":"boolean","title":"Use Custom Json For Streisand","default":false},"use_custom_json_for_happ":{"type":"boolean","title":"Use Custom Json For Happ","default":false},"subscription_path":{"type":"string","title":"Subscription Path","default":"sub"}},"type":"object","title":"SubscriptionTemplateSettings"},"SubscriptionTemplateSettingsUpdate":{"properties":{"subscription_url_prefix":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Url Prefix"},"subscription_profile_title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Profile Title"},"subscription_support_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Support Url"},"subscription_update_interval":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Update Interval"},"custom_templates_directory":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Custom Templates Directory"},"clash_subscription_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Clash Subscription Template"},"clash_settings_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Clash Settings Template"},"subscription_page_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subscription Page Template"},"home_page_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Home Page Template"},"v2ray_subscription_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"V2Ray Subscription Template"},"v2ray_settings_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"V2Ray Settings Template"},"singbox_subscription_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Singbox Subscription Template"},"singbox_settings_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Singbox Settings Template"},"mux_template":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mux Template"},"use_custom_json_default":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Custom Json Default"},"use_custom_json_for_v2rayn":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Custom Json For V2Rayn"},"use_custom_json_for_v2rayng":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Custom Json For V2Rayng"},"use_custom_json_for_streisand":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Custom Json For Streisand"},"use_custom_json_for_happ":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Custom Json For Happ"}},"type":"object","title":"SubscriptionTemplateSettingsUpdate"},"SubscriptionUserResponse":{"properties":{"credential_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Credential Key"},"key_subscription_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Subscription Url"},"proxies":{"type":"object","title":"Proxies"},"flow":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Flow"},"expire":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expire","nullable":true},"data_limit":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Data Limit","description":"data_limit can be 0 or greater"},"data_limit_reset_strategy":{"$ref":"#/components/schemas/UserDataLimitResetStrategy","default":"no_reset"},"telegram_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Id","nullable":true},"contact_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Number","nullable":true},"sub_updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sub Updated At","nullable":true},"sub_last_user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub Last User Agent","nullable":true},"online_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Online At","nullable":true},"on_hold_expire_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"On Hold Expire Duration","nullable":true},"on_hold_timeout":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"On Hold Timeout","nullable":true},"ip_limit":{"type":"integer","minimum":0.0,"title":"Ip Limit","description":"Maximum number of unique IPs allowed (0 = unlimited)","default":0},"next_plan":{"anyOf":[{"$ref":"#/components/schemas/NextPlanModel"},{"type":"null"}],"nullable":true},"next_plans":{"items":{"$ref":"#/components/schemas/NextPlanModel"},"type":"array","title":"Next Plans"},"username":{"type":"string","title":"Username"},"status":{"$ref":"#/components/schemas/UserStatus"},"used_traffic":{"type":"integer","title":"Used Traffic"},"lifetime_used_traffic":{"type":"integer","title":"Lifetime Used Traffic","default":0},"created_at":{"type":"string","format":"date-time","title":"Created At"},"links":{"items":{"type":"string"},"type":"array","title":"Links"},"subscription_url":{"type":"string","title":"Subscription Url","default":""},"subscription_urls":{"additionalProperties":{"type":"string"},"type":"object","title":"Subscription Urls"},"service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Service Id"},"service_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service Name"},"service_host_orders":{"additionalProperties":{"type":"integer"},"type":"object","title":"Service Host Orders"},"link_data":{"items":{"type":"object"},"type":"array","title":"Link Data"}},"type":"object","required":["proxies","username","status","used_traffic","created_at"],"title":"SubscriptionUserResponse"},"SystemStats":{"properties":{"version":{"type":"string","title":"Version"},"cpu_cores":{"type":"integer","title":"Cpu Cores"},"cpu_usage":{"type":"number","title":"Cpu Usage"},"total_user":{"type":"integer","title":"Total User"},"online_users":{"type":"integer","title":"Online Users"},"users_active":{"type":"integer","title":"Users Active"},"users_on_hold":{"type":"integer","title":"Users On Hold"},"users_disabled":{"type":"integer","title":"Users Disabled"},"users_expired":{"type":"integer","title":"Users Expired"},"users_limited":{"type":"integer","title":"Users Limited"},"incoming_bandwidth":{"type":"integer","title":"Incoming Bandwidth"},"outgoing_bandwidth":{"type":"integer","title":"Outgoing Bandwidth"},"panel_total_bandwidth":{"type":"integer","title":"Panel Total Bandwidth"},"incoming_bandwidth_speed":{"type":"integer","title":"Incoming Bandwidth Speed"},"outgoing_bandwidth_speed":{"type":"integer","title":"Outgoing Bandwidth Speed"},"memory":{"$ref":"#/components/schemas/UsageStats"},"swap":{"$ref":"#/components/schemas/UsageStats"},"disk":{"$ref":"#/components/schemas/UsageStats"},"load_avg":{"items":{"type":"number"},"type":"array","title":"Load Avg"},"uptime_seconds":{"type":"integer","title":"Uptime Seconds"},"panel_uptime_seconds":{"type":"integer","title":"Panel Uptime Seconds"},"xray_uptime_seconds":{"type":"integer","title":"Xray Uptime Seconds"},"xray_running":{"type":"boolean","title":"Xray Running"},"xray_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Xray Version"},"app_memory":{"type":"integer","title":"App Memory"},"app_threads":{"type":"integer","title":"App Threads"},"panel_cpu_percent":{"type":"number","title":"Panel Cpu Percent"},"panel_memory_percent":{"type":"number","title":"Panel Memory Percent"},"cpu_history":{"items":{"$ref":"#/components/schemas/HistoryEntry"},"type":"array","title":"Cpu History"},"memory_history":{"items":{"$ref":"#/components/schemas/HistoryEntry"},"type":"array","title":"Memory History"},"network_history":{"items":{"$ref":"#/components/schemas/NetworkHistoryEntry"},"type":"array","title":"Network History"},"panel_cpu_history":{"items":{"$ref":"#/components/schemas/HistoryEntry"},"type":"array","title":"Panel Cpu History"},"panel_memory_history":{"items":{"$ref":"#/components/schemas/HistoryEntry"},"type":"array","title":"Panel Memory History"},"personal_usage":{"$ref":"#/components/schemas/PersonalUsageStats"},"admin_overview":{"$ref":"#/components/schemas/AdminOverviewStats"},"last_xray_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Xray Error"},"last_telegram_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Telegram Error"},"redis_stats":{"anyOf":[{"$ref":"#/components/schemas/RedisStats"},{"type":"null"}]}},"type":"object","required":["version","cpu_cores","cpu_usage","total_user","online_users","users_active","users_on_hold","users_disabled","users_expired","users_limited","incoming_bandwidth","outgoing_bandwidth","panel_total_bandwidth","incoming_bandwidth_speed","outgoing_bandwidth_speed","memory","swap","disk","uptime_seconds","panel_uptime_seconds","xray_uptime_seconds","xray_running","app_memory","app_threads","panel_cpu_percent","panel_memory_percent","personal_usage","admin_overview"],"title":"SystemStats"},"TelegramSettingsResponse":{"properties":{"api_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Token"},"use_telegram":{"type":"boolean","title":"Use Telegram","default":true},"proxy_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Proxy Url"},"admin_chat_ids":{"items":{"type":"integer"},"type":"array","title":"Admin Chat Ids"},"logs_chat_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Logs Chat Id"},"logs_chat_is_forum":{"type":"boolean","title":"Logs Chat Is Forum","default":false},"default_vless_flow":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Vless Flow"},"forum_topics":{"additionalProperties":{"$ref":"#/components/schemas/TelegramTopicSettings"},"type":"object","title":"Forum Topics"},"event_toggles":{"additionalProperties":{"type":"boolean"},"type":"object","title":"Event Toggles"}},"type":"object","title":"TelegramSettingsResponse"},"TelegramSettingsUpdate":{"properties":{"api_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Token","description":"Telegram bot API token"},"use_telegram":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Use Telegram","description":"Enable or disable the Telegram bot regardless of token presence"},"proxy_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Proxy Url","description":"Proxy URL for bot connections"},"admin_chat_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Admin Chat Ids","description":"List of admin Telegram chat ids for direct notifications"},"logs_chat_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Logs Chat Id","description":"Target chat id (group/channel) for log messages"},"logs_chat_is_forum":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Logs Chat Is Forum","description":"Indicates whether the log chat is a forum-enabled group"},"default_vless_flow":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Vless Flow","description":"Optional default flow for VLESS proxies"},"forum_topics":{"anyOf":[{"additionalProperties":{"$ref":"#/components/schemas/TelegramTopicSettings"},"type":"object"},{"type":"null"}],"title":"Forum Topics","description":"Optional mapping of topic keys to settings (title/topic id)"},"event_toggles":{"anyOf":[{"additionalProperties":{"type":"boolean"},"type":"object"},{"type":"null"}],"title":"Event Toggles","description":"Optional mapping of log event keys to enable/disable notifications"}},"type":"object","title":"TelegramSettingsUpdate"},"TelegramTopicSettings":{"properties":{"title":{"type":"string","title":"Title","description":"Display title for the forum topic"},"topic_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Topic Id","description":"Existing Telegram topic id. Leave empty to let the bot create it."}},"type":"object","required":["title"],"title":"TelegramTopicSettings"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token"},"Unauthorized":{"properties":{"detail":{"type":"string","title":"Detail","default":"Not authenticated"}},"type":"object","title":"Unauthorized"},"UsageStats":{"properties":{"current":{"type":"integer","title":"Current"},"total":{"type":"integer","title":"Total"},"percent":{"type":"number","title":"Percent"}},"type":"object","required":["current","total","percent"],"title":"UsageStats"},"UserCreateResponse":{"properties":{"credential_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Credential Key"},"key_subscription_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Subscription Url"},"proxies":{"type":"object","title":"Proxies"},"flow":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Flow"},"expire":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expire","nullable":true},"data_limit":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Data Limit","description":"data_limit can be 0 or greater"},"data_limit_reset_strategy":{"$ref":"#/components/schemas/UserDataLimitResetStrategy","default":"no_reset"},"inbounds":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ProxyTypes"},"type":"object","title":"Inbounds","default":{}},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note","nullable":true},"telegram_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Id","nullable":true},"contact_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Number","nullable":true},"sub_updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sub Updated At","nullable":true},"sub_last_user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub Last User Agent","nullable":true},"online_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Online At","nullable":true},"on_hold_expire_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"On Hold Expire Duration","nullable":true},"on_hold_timeout":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"On Hold Timeout","nullable":true},"ip_limit":{"type":"integer","minimum":0.0,"title":"Ip Limit","description":"Maximum number of unique IPs allowed (0 = unlimited)","default":0},"auto_delete_in_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Auto Delete In Days","nullable":true},"next_plan":{"anyOf":[{"$ref":"#/components/schemas/NextPlanModel"},{"type":"null"}],"nullable":true},"next_plans":{"items":{"$ref":"#/components/schemas/NextPlanModel"},"type":"array","title":"Next Plans"},"username":{"type":"string","title":"Username"},"status":{"$ref":"#/components/schemas/UserStatus"},"used_traffic":{"type":"integer","title":"Used Traffic"},"lifetime_used_traffic":{"type":"integer","title":"Lifetime Used Traffic","default":0},"created_at":{"type":"string","format":"date-time","title":"Created At"},"links":{"items":{"type":"string"},"type":"array","title":"Links"},"subscription_url":{"type":"string","title":"Subscription Url","default":""},"subscription_urls":{"additionalProperties":{"type":"string"},"type":"object","title":"Subscription Urls"},"excluded_inbounds":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ProxyTypes"},"type":"object","title":"Excluded Inbounds","default":{}},"service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Service Id"},"service_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service Name"},"admin_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Username"},"service_host_orders":{"additionalProperties":{"type":"integer"},"type":"object","title":"Service Host Orders"},"link_data":{"items":{"type":"object"},"type":"array","title":"Link Data"},"admin":{"anyOf":[{"$ref":"#/components/schemas/Admin"},{"type":"null"}]}},"type":"object","required":["proxies","username","status","used_traffic","created_at"],"title":"UserCreateResponse"},"UserDataLimitResetStrategy":{"type":"string","enum":["no_reset","day","week","month","year"],"title":"UserDataLimitResetStrategy"},"UserListItem":{"properties":{"username":{"type":"string","title":"Username"},"status":{"$ref":"#/components/schemas/UserStatus"},"used_traffic":{"type":"integer","title":"Used Traffic"},"lifetime_used_traffic":{"type":"integer","title":"Lifetime Used Traffic","default":0},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expire":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expire"},"data_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Data Limit"},"data_limit_reset_strategy":{"anyOf":[{"$ref":"#/components/schemas/UserDataLimitResetStrategy"},{"type":"null"}]},"online_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Online At"},"service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Service Id"},"service_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service Name"},"admin_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Admin Id"},"admin_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Username"},"links":{"items":{"type":"string"},"type":"array","title":"Links"},"subscription_url":{"type":"string","title":"Subscription Url","default":""},"subscription_urls":{"additionalProperties":{"type":"string"},"type":"object","title":"Subscription Urls"}},"type":"object","required":["username","status","used_traffic","created_at"],"title":"UserListItem","description":"Lightweight shape returned by /api/users list endpoint.\nFor detailed user information, call /api/user/{username}."},"UserModify":{"properties":{"credential_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Credential Key"},"key_subscription_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Subscription Url"},"proxies":{"additionalProperties":{"$ref":"#/components/schemas/ProxySettings"},"propertyNames":{"$ref":"#/components/schemas/ProxyTypes"},"type":"object","title":"Proxies","default":{}},"flow":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Flow"},"expire":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expire","nullable":true},"data_limit":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Data Limit","description":"data_limit can be 0 or greater"},"data_limit_reset_strategy":{"$ref":"#/components/schemas/UserDataLimitResetStrategy"},"inbounds":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ProxyTypes"},"type":"object","title":"Inbounds","default":{}},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note","nullable":true},"telegram_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Id","nullable":true},"contact_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Number","nullable":true},"sub_updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sub Updated At","nullable":true},"sub_last_user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub Last User Agent","nullable":true},"online_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Online At","nullable":true},"on_hold_expire_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"On Hold Expire Duration","nullable":true},"on_hold_timeout":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"On Hold Timeout","nullable":true},"ip_limit":{"type":"integer","minimum":0.0,"title":"Ip Limit","description":"Maximum number of unique IPs allowed (0 = unlimited)","default":0},"auto_delete_in_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Auto Delete In Days","nullable":true},"next_plan":{"anyOf":[{"$ref":"#/components/schemas/NextPlanModel"},{"type":"null"}],"nullable":true},"next_plans":{"anyOf":[{"items":{"$ref":"#/components/schemas/NextPlanModel"},"type":"array"},{"type":"null"}],"title":"Next Plans","nullable":true},"status":{"$ref":"#/components/schemas/UserStatusModify"},"service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Service Id"}},"type":"object","title":"UserModify","example":{"data_limit":0,"data_limit_reset_strategy":"no_reset","expire":0,"inbounds":{"vless":["VLESS TCP REALITY","VLESS GRPC REALITY"],"vmess":["VMess TCP","VMess Websocket"]},"next_plan":{"add_remaining_traffic":false,"data_limit":0,"expire":0,"fire_on_either":true},"note":"","on_hold_expire_duration":0,"on_hold_timeout":"2023-11-03T20:30:00","proxies":{"vless":{},"vmess":{"id":"35e4e39c-7d5c-4f4b-8b71-558e4f37ff53"}},"status":"active"}},"UserPermission":{"type":"string","enum":["create","delete","reset_usage","revoke","create_on_hold","allow_unlimited_data","allow_unlimited_expire","allow_next_plan","advanced_actions","set_flow","allow_custom_key"],"title":"UserPermission"},"UserPermissionSettings":{"properties":{"create":{"type":"boolean","title":"Create","default":true},"delete":{"type":"boolean","title":"Delete","default":false},"reset_usage":{"type":"boolean","title":"Reset Usage","default":false},"revoke":{"type":"boolean","title":"Revoke","default":false},"create_on_hold":{"type":"boolean","title":"Create On Hold","default":false},"allow_unlimited_data":{"type":"boolean","title":"Allow Unlimited Data","default":false},"allow_unlimited_expire":{"type":"boolean","title":"Allow Unlimited Expire","default":false},"allow_next_plan":{"type":"boolean","title":"Allow Next Plan","default":false},"advanced_actions":{"type":"boolean","title":"Advanced Actions","default":true},"set_flow":{"type":"boolean","title":"Set Flow","default":false},"allow_custom_key":{"type":"boolean","title":"Allow Custom Key","default":false},"max_data_limit_per_user":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Data Limit Per User"}},"type":"object","title":"UserPermissionSettings"},"UserResponse":{"properties":{"credential_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Credential Key"},"key_subscription_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Key Subscription Url"},"proxies":{"type":"object","title":"Proxies"},"flow":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Flow"},"expire":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expire","nullable":true},"data_limit":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Data Limit","description":"data_limit can be 0 or greater"},"data_limit_reset_strategy":{"$ref":"#/components/schemas/UserDataLimitResetStrategy","default":"no_reset"},"inbounds":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ProxyTypes"},"type":"object","title":"Inbounds","default":{}},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note","nullable":true},"telegram_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telegram Id","nullable":true},"contact_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Number","nullable":true},"sub_updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Sub Updated At","nullable":true},"sub_last_user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub Last User Agent","nullable":true},"online_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Online At","nullable":true},"on_hold_expire_duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"On Hold Expire Duration","nullable":true},"on_hold_timeout":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"On Hold Timeout","nullable":true},"ip_limit":{"type":"integer","minimum":0.0,"title":"Ip Limit","description":"Maximum number of unique IPs allowed (0 = unlimited)","default":0},"auto_delete_in_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Auto Delete In Days","nullable":true},"next_plan":{"anyOf":[{"$ref":"#/components/schemas/NextPlanModel"},{"type":"null"}],"nullable":true},"next_plans":{"items":{"$ref":"#/components/schemas/NextPlanModel"},"type":"array","title":"Next Plans"},"username":{"type":"string","title":"Username"},"status":{"$ref":"#/components/schemas/UserStatus"},"used_traffic":{"type":"integer","title":"Used Traffic"},"lifetime_used_traffic":{"type":"integer","title":"Lifetime Used Traffic","default":0},"created_at":{"type":"string","format":"date-time","title":"Created At"},"links":{"items":{"type":"string"},"type":"array","title":"Links"},"subscription_url":{"type":"string","title":"Subscription Url","default":""},"subscription_urls":{"additionalProperties":{"type":"string"},"type":"object","title":"Subscription Urls"},"excluded_inbounds":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ProxyTypes"},"type":"object","title":"Excluded Inbounds","default":{}},"service_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Service Id"},"service_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service Name"},"admin_username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Admin Username"},"service_host_orders":{"additionalProperties":{"type":"integer"},"type":"object","title":"Service Host Orders"},"link_data":{"items":{"type":"object"},"type":"array","title":"Link Data"},"admin":{"anyOf":[{"$ref":"#/components/schemas/Admin"},{"type":"null"}]}},"type":"object","required":["proxies","username","status","used_traffic","created_at"],"title":"UserResponse"},"UserStatus":{"type":"string","enum":["active","disabled","limited","expired","on_hold","deleted"],"title":"UserStatus"},"UserStatusModify":{"type":"string","enum":["active","disabled","on_hold"],"title":"UserStatusModify"},"UserTemplateCreate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","nullable":true},"data_limit":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Data Limit","description":"data_limit can be 0 or greater"},"expire_duration":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Expire Duration","description":"expire_duration can be 0 or greater in seconds"},"username_prefix":{"anyOf":[{"type":"string","maxLength":20,"minLength":1},{"type":"null"}],"title":"Username Prefix"},"username_suffix":{"anyOf":[{"type":"string","maxLength":20,"minLength":1},{"type":"null"}],"title":"Username Suffix"},"inbounds":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ProxyTypes"},"type":"object","title":"Inbounds","default":{}}},"type":"object","title":"UserTemplateCreate","example":{"data_limit":0,"expire_duration":0,"inbounds":{"vless":["VLESS_INBOUND"],"vmess":["VMESS_INBOUND"]},"name":"my template 1"}},"UserTemplateModify":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","nullable":true},"data_limit":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Data Limit","description":"data_limit can be 0 or greater"},"expire_duration":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Expire Duration","description":"expire_duration can be 0 or greater in seconds"},"username_prefix":{"anyOf":[{"type":"string","maxLength":20,"minLength":1},{"type":"null"}],"title":"Username Prefix"},"username_suffix":{"anyOf":[{"type":"string","maxLength":20,"minLength":1},{"type":"null"}],"title":"Username Suffix"},"inbounds":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ProxyTypes"},"type":"object","title":"Inbounds","default":{}}},"type":"object","title":"UserTemplateModify","example":{"data_limit":0,"expire_duration":0,"inbounds":{"vless":["VLESS_INBOUND"],"vmess":["VMESS_INBOUND"]},"name":"my template 1"}},"UserTemplateResponse":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","nullable":true},"data_limit":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Data Limit","description":"data_limit can be 0 or greater"},"expire_duration":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Expire Duration","description":"expire_duration can be 0 or greater in seconds"},"username_prefix":{"anyOf":[{"type":"string","maxLength":20,"minLength":1},{"type":"null"}],"title":"Username Prefix"},"username_suffix":{"anyOf":[{"type":"string","maxLength":20,"minLength":1},{"type":"null"}],"title":"Username Suffix"},"inbounds":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"propertyNames":{"$ref":"#/components/schemas/ProxyTypes"},"type":"object","title":"Inbounds","default":{}},"id":{"type":"integer","title":"Id"}},"type":"object","required":["id"],"title":"UserTemplateResponse"},"UserUsageResponse":{"properties":{"node_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Node Id"},"node_name":{"type":"string","title":"Node Name"},"used_traffic":{"type":"integer","title":"Used Traffic"}},"type":"object","required":["node_name","used_traffic"],"title":"UserUsageResponse"},"UserUsagesResponse":{"properties":{"username":{"type":"string","title":"Username"},"usages":{"items":{"$ref":"#/components/schemas/UserUsageResponse"},"type":"array","title":"Usages"}},"type":"object","required":["username","usages"],"title":"UserUsagesResponse"},"UsersResponse":{"properties":{"users":{"items":{"$ref":"#/components/schemas/UserListItem"},"type":"array","title":"Users"},"link_templates":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"type":"object","title":"Link Templates"},"total":{"type":"integer","title":"Total"},"active_total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Active Total"},"users_limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Users Limit"},"status_breakdown":{"additionalProperties":{"type":"integer"},"type":"object","title":"Status Breakdown"},"usage_total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Usage Total"},"online_total":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Online Total"}},"type":"object","required":["users","total"],"title":"UsersResponse"},"UsersUsagesResponse":{"properties":{"usages":{"items":{"$ref":"#/components/schemas/UserUsageResponse"},"type":"array","title":"Usages"}},"type":"object","required":["usages"],"title":"UsersUsagesResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WarpAccountPayload":{"properties":{"device_id":{"type":"string","title":"Device Id"},"access_token":{"type":"string","title":"Access Token"},"license_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"License Key"},"private_key":{"type":"string","title":"Private Key"},"public_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Public Key"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["device_id","access_token","private_key"],"title":"WarpAccountPayload"},"WarpAccountResponse":{"properties":{"account":{"anyOf":[{"$ref":"#/components/schemas/WarpAccountPayload"},{"type":"null"}]}},"type":"object","required":["account"],"title":"WarpAccountResponse"},"WarpConfigResponse":{"properties":{"config":{"type":"object","title":"Config"}},"type":"object","required":["config"],"title":"WarpConfigResponse"},"WarpLicenseUpdate":{"properties":{"license_key":{"type":"string","minLength":10,"title":"License Key"}},"type":"object","required":["license_key"],"title":"WarpLicenseUpdate"},"WarpRegisterRequest":{"properties":{"private_key":{"type":"string","minLength":16,"title":"Private Key"},"public_key":{"type":"string","minLength":16,"title":"Public Key"}},"type":"object","required":["private_key","public_key"],"title":"WarpRegisterRequest"},"WarpRegisterResponse":{"properties":{"account":{"$ref":"#/components/schemas/WarpAccountPayload"},"config":{"type":"object","title":"Config"}},"type":"object","required":["account","config"],"title":"WarpRegisterResponse"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/admin/token"}}}}}}
